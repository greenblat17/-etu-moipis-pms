# PRD: –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**–ù–∞–∑–≤–∞–Ω–∏–µ**: Process Management System (PMS)  
**–°—Ç–µ–∫**: Next.js 15, React 19, Tailwind CSS, shadcn/ui  
**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (—Å—Ö–µ–º–∞ —É–∂–µ –≥–æ—Ç–æ–≤–∞)  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –û—Ç–ª–æ–∂–µ–Ω–∞ (MVP –±–µ–∑ auth)

---

## –¶–µ–ª–∏

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
2. –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞:
   - –í–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞
3. –û–±–µ—Å–ø–µ—á–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–µ–π –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```
app/
‚îú‚îÄ‚îÄ layout.tsx                    # Root layout —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ page.tsx                      # Dashboard (–≥–ª–∞–≤–Ω–∞—è)
‚îú‚îÄ‚îÄ globals.css                   # Tailwind + –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ (catalog)/                    # –ì—Ä—É–ø–ø–∞: –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ products/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx              # –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id]/page.tsx         # –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ new/page.tsx          # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ classes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx              # –ö–ª–∞—Å—Å—ã —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/page.tsx         # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ parameters/
‚îÇ       ‚îî‚îÄ‚îÄ page.tsx              # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ (processes)/                  # –ì—Ä—É–ø–ø–∞: –ü—Ä–æ—Ü–µ—Å—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ templates/                # –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx              # –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id]/page.tsx         # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/states/page.tsx  # –°–æ—Å—Ç–æ—è–Ω–∏—è —à–∞–±–ª–æ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ instances/                # –≠–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx              # –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/page.tsx         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ dictionaries/             # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ states/page.tsx       # –¢–∏–ø—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ decisions/page.tsx    # –¢–∏–ø—ã —Ä–µ—à–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ api/                          # API Routes
‚îÇ   ‚îú‚îÄ‚îÄ products/
‚îÇ   ‚îú‚îÄ‚îÄ classes/
‚îÇ   ‚îú‚îÄ‚îÄ parameters/
‚îÇ   ‚îú‚îÄ‚îÄ processes/
‚îÇ   ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ states/
‚îÇ   ‚îî‚îÄ‚îÄ decisions/
‚îÇ
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ ui/                       # –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    ‚îú‚îÄ‚îÄ catalog/                  # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ç–∞–ª–æ–≥–∞
    ‚îú‚îÄ‚îÄ processes/                # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    ‚îî‚îÄ‚îÄ layout/                   # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

---

## –§–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–°—Ä–æ–∫**: 1 –¥–µ–Ω—å

| –ó–∞–¥–∞—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ | Tailwind CSS, shadcn/ui init, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ |
| Layout | Sidebar –Ω–∞–≤–∏–≥–∞—Ü–∏—è, header, main content area |
| API –∫–ª–∏–µ–Ω—Ç | –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API (fetch wrapper) |
| shadcn –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | Button, Input, Select, Table, Dialog, Card, Badge, Tabs, Toast |

### –§–∞–∑–∞ 2: –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü† –í—ã—Å–æ–∫–∏–π  
**–°—Ä–æ–∫**: 2 –¥–Ω—è

#### 2.1 –ö–ª–∞—Å—Å—ã —Ç–æ–≤–∞—Ä–æ–≤ (`chem_class`)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| ClassList | –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∞—Å—Å–æ–≤ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π (parent ‚Üí child) |
| ClassForm | –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ |
| ClassTree | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ (–¥–µ—Ä–µ–≤–æ) |

**API Endpoints**:
- `GET /api/classes` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤
- `POST /api/classes` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
- `PUT /api/classes/[id]` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /api/classes/[id]` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ

#### 2.2 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (`parametr`)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| ParameterList | –¢–∞–±–ª–∏—Ü–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |
| ParameterForm | –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (name, short_name, type_par) |

**API Endpoints**:
- `GET /api/parameters`
- `POST /api/parameters`
- `PUT /api/parameters/[id]`
- `DELETE /api/parameters/[id]`

#### 2.3 –¢–æ–≤–∞—Ä—ã (`prod`)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| ProductList | –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–ª–∞—Å—Å—É |
| ProductCard | –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ |
| ProductForm | –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ |
| ParameterValues | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–æ–≤–∞—Ä–∞ |

**API Endpoints**:
- `GET /api/products` ‚Äî —Å–ø–∏—Å–æ–∫ (+ query: class_id)
- `GET /api/products/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ + –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `POST /api/products` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ
- `PUT /api/products/[id]` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /api/products/[id]` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ
- `PUT /api/products/[id]/parameters` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

---

### –§–∞–∑–∞ 3: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü† –í—ã—Å–æ–∫–∏–π  
**–°—Ä–æ–∫**: 1 –¥–µ–Ω—å

#### 3.1 –¢–∏–ø—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π (`type_state`)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| StateTypeList | –¢–∞–±–ª–∏—Ü–∞ —Ç–∏–ø–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π |
| StateTypeForm | –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

**–î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è (Process 1 ‚Äî –í–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞)**:
| sh_name | name |
|---------|------|
| draft | –ß–µ—Ä–Ω–æ–≤–∏–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ |
| moderation | –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ |
| published | –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω |
| corrections | –ó–∞–ø—Ä–æ—à–µ–Ω—ã –ø—Ä–∞–≤–∫–∏ |
| rejected | –û—Ç–∫–ª–æ–Ω—ë–Ω |
| paused | –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω |
| cancelled | –û—Ç–º–µ–Ω—ë–Ω |
| archived | –ê—Ä—Ö–∏–≤ |

**–î–∞–Ω–Ω—ã–µ (Process 2 ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏)**:
| sh_name | name |
|---------|------|
| select_product | –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞ |
| create_copy | –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–∏ |
| edit_params | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |
| mod_approval | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º |
| mgr_approval | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º |
| change_permission | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –≤–≤–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| apply_changes | –í–≤–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥–µ–π—Å—Ç–≤–∏–µ |
| postponed | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–æ |
| completed | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–≤–µ–¥–µ–Ω–æ |

#### 3.2 –¢–∏–ø—ã —Ä–µ—à–µ–Ω–∏–π (`type_decision`)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| DecisionTypeList | –¢–∞–±–ª–∏—Ü–∞ —Ç–∏–ø–æ–≤ —Ä–µ—à–µ–Ω–∏–π |
| DecisionTypeForm | –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

**–î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è**:
| sh_name | name |
|---------|------|
| submit | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é |
| approve | –û–¥–æ–±—Ä–∏—Ç—å |
| reject | –û—Ç–∫–ª–æ–Ω–∏—Ç—å |
| request_changes | –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–∞–≤–∫–∏ |
| apply_changes | –í–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏ |
| pause | –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å |
| resume | –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å |
| archive | –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å |
| cancel | –û—Ç–º–µ–Ω–∏—Ç—å |
| create_copy | –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é |
| start_edit | –ù–∞—á–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| to_moderation | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é |
| revision | –ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É |
| mod_approved | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º |
| mgr_approved | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º |
| allow | –†–∞–∑—Ä–µ—à–∏—Ç—å –≤–≤–æ–¥ |
| postpone | –û—Ç–ª–æ–∂–∏—Ç—å |
| retry | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å |
| done | –ó–∞–≤–µ—Ä—à–µ–Ω–æ |

---

### –§–∞–∑–∞ 4: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–®–∞–±–ª–æ–Ω—ã)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π  
**–°—Ä–æ–∫**: 2 –¥–Ω—è

#### 4.1 –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (`type_process`)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| TemplateList | –¢–∞–±–ª–∏—Ü–∞ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ |
| TemplateForm | –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ (name, sh_name, class) |
| TemplateDetail | –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–∞ |

#### 4.2 –°–æ—Å—Ç–æ—è–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω–µ (`state`)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| StateList | –°–ø–∏—Å–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π —à–∞–±–ª–æ–Ω–∞ |
| StateForm | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤—ã–±–æ—Ä type_state, flag_beg) |
| StateDiagram | **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π** |

#### 4.3 –ú–∞–ø–ø–∏–Ω–≥ —Ä–µ—à–µ–Ω–∏–π (`decision_map`)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| DecisionMapper | UI –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ —Ä–µ—à–µ–Ω–∏–π –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º |

**API Endpoints**:
- `GET /api/templates` ‚Äî —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
- `GET /api/templates/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ + —Å–æ—Å—Ç–æ—è–Ω–∏—è + decision_map
- `POST /api/templates` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ
- `PUT /api/templates/[id]` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `POST /api/templates/[id]/states` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `DELETE /api/templates/[id]/states/[stateId]` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `POST /api/templates/[id]/decisions` ‚Äî –º–∞–ø–ø–∏–Ω–≥ —Ä–µ—à–µ–Ω–∏—è

---

### –§–∞–∑–∞ 5: –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚≠ê
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–°—Ä–æ–∫**: 3 –¥–Ω—è

#### 5.1 –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| ProcessList | –¢–∞–±–ª–∏—Ü–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ |
| ProcessFilters | –§–∏–ª—å—Ç—Ä—ã: –ø–æ —à–∞–±–ª–æ–Ω—É, –ø–æ —Ç–æ–≤–∞—Ä—É, –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é |
| ProcessStatusBadge | –ë–µ–π–¥–∂ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è |

#### 5.2 –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| CreateProcessModal | –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞ ‚Üí –≤—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞ ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ |

#### 5.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º (–≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| ProcessDetail | –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ |
| CurrentState | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–±–æ–ª—å—à–æ–π –±–µ–π–¥–∂) |
| AvailableDecisions | **–ö–Ω–æ–ø–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π** |
| DecisionConfirm | –ú–æ–¥–∞–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è |

#### 5.4 –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|------------|
| TrajectoryTimeline | **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ç–∞–π–º–ª–∞–π–Ω —à–∞–≥–æ–≤** |
| TrajectoryStep | –®–∞–≥: —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ä–µ—à–µ–Ω–∏–µ, –≤—Ä–µ–º—è, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å |
| TrajectoryExport | –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ (CSV/JSON) |

**API Endpoints**:
- `GET /api/processes` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- `GET /api/processes/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ + —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `POST /api/processes` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ (–≤—ã–∑–æ–≤ `ins_process`)
- `GET /api/processes/[id]/trajectory` ‚Äî —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è (–≤—ã–∑–æ–≤ `read_trajectory`)
- `GET /api/processes/[id]/decisions` ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- `POST /api/processes/[id]/decide` ‚Äî –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ (–¥–æ–±–∞–≤–∏—Ç—å —à–∞–≥ –≤ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é)

---

## UI/UX –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (Dark Theme)
```css
:root {
  --bg-primary: #0f0f0f;
  --bg-secondary: #1a1a1a;
  --bg-card: #242424;
  --accent: #3b82f6;        /* Blue */
  --accent-success: #22c55e; /* Green */
  --accent-warning: #f59e0b; /* Amber */
  --accent-danger: #ef4444;  /* Red */
  --text-primary: #ffffff;
  --text-secondary: #a1a1aa;
  --border: #2e2e2e;
}
```

### –ù–∞–≤–∏–≥–∞—Ü–∏—è (Sidebar)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üè™ Process Manager              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìä Dashboard                    ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ  –ö–ê–¢–ê–õ–û–ì                         ‚îÇ
‚îÇ  ‚îú‚îÄ üì¶ –¢–æ–≤–∞—Ä—ã                    ‚îÇ
‚îÇ  ‚îú‚îÄ üè∑Ô∏è –ö–ª–∞—Å—Å—ã                    ‚îÇ
‚îÇ  ‚îî‚îÄ ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                 ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ  –ü–†–û–¶–ï–°–°–´                        ‚îÇ
‚îÇ  ‚îú‚îÄ ‚ñ∂Ô∏è –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã         ‚îÇ
‚îÇ  ‚îú‚îÄ üìã –®–∞–±–ª–æ–Ω—ã                   ‚îÇ
‚îÇ  ‚îî‚îÄ üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏               ‚îÇ
‚îÇ      ‚îú‚îÄ –°–æ—Å—Ç–æ—è–Ω–∏—è                ‚îÇ
‚îÇ      ‚îî‚îÄ –†–µ—à–µ–Ω–∏—è                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ UI –ø–∞—Ç—Ç–µ—Ä–Ω—ã

#### 1. –¢–∞–±–ª–∏—Ü—ã
- Sticky header
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è (20 –∑–∞–ø–∏—Å–µ–π)
- Row hover highlighting

#### 2. –§–æ—Ä–º—ã
- Inline validation
- Submit –Ω–∞ Enter
- Loading state –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (success/error)

#### 3. –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ (Timeline)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚óè –ß–µ—Ä–Ω–æ–≤–∏–∫ –∫–∞—Ä—Ç–æ—á–∫–∏                        ‚îÇ
‚îÇ  ‚îÇ  –°–æ–∑–¥–∞–Ω–æ: 15.12.2024 10:30               ‚îÇ
‚îÇ  ‚îÇ  –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: –ò–≤–∞–Ω–æ–≤ –ò.–ò.                ‚îÇ
‚îÇ  ‚îÇ                                          ‚îÇ
‚îÇ  ‚ñº –†–µ—à–µ–Ω–∏–µ: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é          ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚óè –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏                             ‚îÇ
‚îÇ  ‚îÇ  15.12.2024 11:45                        ‚îÇ
‚îÇ  ‚îÇ  –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: –ü–µ—Ç—Ä–æ–≤ –ü.–ü.                ‚îÇ
‚îÇ  ‚îÇ                                          ‚îÇ
‚îÇ  ‚ñº –†–µ—à–µ–Ω–∏–µ: –û–¥–æ–±—Ä–∏—Ç—å                        ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚óâ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω  ‚Üê —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ         ‚îÇ
‚îÇ    15.12.2024 14:20                         ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  [ –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ] [ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å ]         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 4. –î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —à–∞–±–ª–æ–Ω–∞ —Å –ø–æ–º–æ—â—å—é SVG/Canvas

---

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (TypeScript)

```typescript
// –ö–∞—Ç–∞–ª–æ–≥
interface ProductClass {
  id_class: number;
  short_name: string;
  name: string;
  main_class: number | null;
}

interface Product {
  id_prod: string;
  name: string;
  id_class: number;
  class_name?: string;
  parameters?: ParameterValue[];
}

interface Parameter {
  id_par: number;
  short_name: string;
  name: string;
  type_par: string;
}

interface ParameterValue {
  id_prod: string;
  id_par: number;
  val: string | null;
  note: string | null;
  parameter?: Parameter;
}

// –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
interface StateType {
  id_state: number;
  name: string;
  sh_name: string;
}

interface DecisionType {
  id_dec: number;
  name: string;
  sh_name: string;
}

// –®–∞–±–ª–æ–Ω—ã
interface ProcessTemplate {
  id_type_proc: number;
  name: string;
  sh_name: string;
  id_class: number | null;
  states?: TemplateState[];
}

interface TemplateState {
  id_type_pr: number;
  id_state: number;
  flag_beg: number;
  state_name?: string;
  decisions?: DecisionType[];
}

// –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
interface Process {
  id_process: number;
  name: string;
  sh_name: string;
  id_prod: string;
  type_pr: number;
  product?: Product;
  template?: ProcessTemplate;
  current_state?: TrajectoryStep;
}

interface TrajectoryStep {
  num_pos: number;
  id_state: number;
  state_name: string;
  id_dec: number | null;
  dec_name: string | null;
  id_per: number | null;
  fio: string | null;
  d_time: string;
}
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ (MVP)

### Must Have ‚úÖ
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ —Ä–µ—à–µ–Ω–∏–π
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
- [ ] –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è —Ç–æ–≤–∞—Ä–∞
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
- [ ] –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è (–ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏)

### Should Have üü°
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –ø–æ decision_map

### Nice to Have üîµ
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
- [ ] –î–∞—à–±–æ—Ä–¥ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- [ ] –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–≤—É—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏–∑ –¢–ó

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ PRD** ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å scope
2. **–§–∞–∑–∞ 1** ‚Äî –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + UI Kit
3. **–§–∞–∑–∞ 2-3** ‚Äî –∫–∞—Ç–∞–ª–æ–≥ + —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
4. **–§–∞–∑–∞ 4-5** ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä + –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 15.12.2024*

